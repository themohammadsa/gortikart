{"ast":null,"code":"import _toConsumableArray from \"C:/Users/dashi/Documents/GitHub/gortikart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:/Users/dashi/Documents/GitHub/gortikart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { address } from 'faker';\nimport { addAddress, removeAddress } from '../services/address';\nimport { postUserResponse } from '../services/postUserResponse';\nexport var ReducerFunction = function ReducerFunction(state, _ref) {\n  var type = _ref.type,\n      payload = _ref.payload,\n      action = _ref.action,\n      key = _ref.key;\n\n  switch (type) {\n    case 'ADD_TO_CART':\n      postUserResponse(payload.id, 'cart', 'add');\n      return _objectSpread(_objectSpread({}, state), {}, {\n        cart: [].concat(_toConsumableArray(state.cart), [payload])\n      });\n\n    case 'MOVE_TO_CART':\n      postUserResponse(payload.id, 'cart', 'move');\n      var productInCart = state.cart.some(function (product) {\n        return product.id === payload.id;\n      });\n\n      if (productInCart) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          wishList: state.wishList.filter(function (item) {\n            return item.id !== payload.id;\n          })\n        });\n      } else {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          wishList: state.wishList.filter(function (item) {\n            return item.id !== payload.id;\n          }),\n          cart: [].concat(_toConsumableArray(state.cart), [payload])\n        });\n      }\n\n    case 'REMOVE_FROM_CART':\n      postUserResponse(payload.id, 'cart', 'remove');\n      return _objectSpread(_objectSpread({}, state), {}, {\n        cart: state.cart.filter(function (item) {\n          return item.id !== payload.id;\n        })\n      });\n\n    case 'ADD_TO_WISHLIST':\n      postUserResponse(payload.id, 'wishlist', 'add');\n\n      if (state.wishList.some(function (product) {\n        return product.id === payload.id;\n      })) {\n        return state;\n      } else {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          wishList: [].concat(_toConsumableArray(state.wishList), [payload])\n        });\n      }\n\n    case 'MOVE_TO_WISHLIST':\n      postUserResponse(payload.id, 'wishlist', 'move');\n\n      if (state.wishList.some(function (product) {\n        return product.id === payload.id;\n      })) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          cart: state.cart.filter(function (item) {\n            return item.id !== payload.id;\n          })\n        });\n      } else {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          cart: state.cart.filter(function (item) {\n            return item.id !== payload.id;\n          }),\n          wishList: [].concat(_toConsumableArray(state.wishList), [payload])\n        });\n      }\n\n    case 'REMOVE_FROM_WISHLIST':\n      postUserResponse(payload.id, 'wishlist', 'remove');\n      return _objectSpread(_objectSpread({}, state), {}, {\n        wishList: state.wishList.filter(function (item) {\n          return item.id !== payload.id;\n        })\n      });\n\n    case 'SET_ADDRESS':\n      console.log('t', !payload.address[0]);\n\n      if (payload.address[0]) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          address: payload.address\n        });\n      }\n\n    case 'ADD_ADDRESS':\n      addAddress(payload);\n      console.log(payload);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        address: [].concat(_toConsumableArray(state.address), [payload])\n      });\n\n    case 'REMOVE_ADDRESS':\n      removeAddress(payload.id);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        address: state.address.filter(function (address) {\n          return address._id !== payload.id;\n        })\n      });\n\n    case 'SORT_BY':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        sortBy: payload\n      });\n\n    case 'FILTER_BY':\n      return filterByFn(state, action, key);\n\n    case 'SEARCH':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        search: payload\n      });\n\n    case 'CLEAR_ALL':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        FAST_DELIVERY: false,\n        INCLUDE_OUT_OF_STOCK: false,\n        search: '',\n        filterBy: []\n      });\n\n    default:\n      return {};\n  }\n};\n_c = ReducerFunction;\n\nvar filterByFn = function filterByFn(state, action, key) {\n  switch (key) {\n    case 'AVAILABILITY':\n    case 'DELIVERY':\n      return filterByBoolean(state, action.payload);\n\n    case 'CATEGORIES':\n      return filterByCategories(state, action.payload);\n\n    default:\n      return state;\n  }\n};\n\nvar filterByBoolean = function filterByBoolean(state, payload) {\n  switch (payload) {\n    case 'INCLUDE_OUT_OF_STOCK':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        INCLUDE_OUT_OF_STOCK: !state.INCLUDE_OUT_OF_STOCK\n      });\n\n    case 'FAST_DELIVERY':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        FAST_DELIVERY: !state.FAST_DELIVERY\n      });\n\n    default:\n      return state;\n  }\n};\n\nvar filterByCategories = function filterByCategories(state, payload) {\n  if (!state.filterBy.includes(payload)) {\n    switch (payload) {\n      case 'TABLETS':\n      case 'LAPTOPS':\n      case 'DESKTOPS':\n      case 'ACCESSORIES':\n        return _objectSpread(_objectSpread({}, state), {}, {\n          filterBy: [].concat(_toConsumableArray(state.filterBy), [payload])\n        });\n\n      default:\n        return _objectSpread({}, state);\n    }\n  } else {\n    switch (payload) {\n      case 'TABLETS':\n      case 'LAPTOPS':\n      case 'DESKTOPS':\n      case 'ACCESSORIES':\n        return _objectSpread(_objectSpread({}, state), {}, {\n          filterBy: state.filterBy.filter(function (item) {\n            return payload !== item;\n          })\n        });\n\n      default:\n        return _objectSpread({}, state);\n    }\n  }\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"ReducerFunction\");","map":{"version":3,"sources":["C:/Users/dashi/Documents/GitHub/gortikart/src/reducer/ReducerFunction.js"],"names":["address","addAddress","removeAddress","postUserResponse","ReducerFunction","state","type","payload","action","key","id","cart","productInCart","some","product","wishList","filter","item","console","log","_id","sortBy","filterByFn","search","FAST_DELIVERY","INCLUDE_OUT_OF_STOCK","filterBy","filterByBoolean","filterByCategories","includes"],"mappings":"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","sourcesContent":["import { address } from 'faker';\r\nimport { addAddress, removeAddress } from '../services/address';\r\nimport { postUserResponse } from '../services/postUserResponse';\r\n\r\nexport const ReducerFunction = (state, { type, payload, action, key }) => {\r\n  switch (type) {\r\n    case 'ADD_TO_CART':\r\n      postUserResponse(payload.id, 'cart', 'add');\r\n      return {\r\n        ...state,\r\n        cart: [...state.cart, payload],\r\n      };\r\n    case 'MOVE_TO_CART':\r\n      postUserResponse(payload.id, 'cart', 'move');\r\n      const productInCart = state.cart.some(\r\n        (product) => product.id === payload.id\r\n      );\r\n      if (productInCart) {\r\n        return {\r\n          ...state,\r\n          wishList: state.wishList.filter((item) => item.id !== payload.id),\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          wishList: state.wishList.filter((item) => item.id !== payload.id),\r\n          cart: [...state.cart, payload],\r\n        };\r\n      }\r\n    case 'REMOVE_FROM_CART':\r\n      postUserResponse(payload.id, 'cart', 'remove');\r\n      return {\r\n        ...state,\r\n        cart: state.cart.filter((item) => item.id !== payload.id),\r\n      };\r\n    case 'ADD_TO_WISHLIST':\r\n      postUserResponse(payload.id, 'wishlist', 'add');\r\n      if (state.wishList.some((product) => product.id === payload.id)) {\r\n        return state;\r\n      } else {\r\n        return { ...state, wishList: [...state.wishList, payload] };\r\n      }\r\n    case 'MOVE_TO_WISHLIST':\r\n      postUserResponse(payload.id, 'wishlist', 'move');\r\n      if (state.wishList.some((product) => product.id === payload.id)) {\r\n        return {\r\n          ...state,\r\n          cart: state.cart.filter((item) => item.id !== payload.id),\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          cart: state.cart.filter((item) => item.id !== payload.id),\r\n          wishList: [...state.wishList, payload],\r\n        };\r\n      }\r\n    case 'REMOVE_FROM_WISHLIST':\r\n      postUserResponse(payload.id, 'wishlist', 'remove');\r\n      return {\r\n        ...state,\r\n        wishList: state.wishList.filter((item) => item.id !== payload.id),\r\n      };\r\n    case 'SET_ADDRESS':\r\n      console.log('t', !payload.address[0]);\r\n      if (payload.address[0]) {\r\n        return {\r\n          ...state,\r\n          address: payload.address,\r\n        };\r\n      }\r\n    case 'ADD_ADDRESS':\r\n      addAddress(payload);\r\n      console.log(payload);\r\n      return {\r\n        ...state,\r\n        address: [...state.address, payload],\r\n      };\r\n    case 'REMOVE_ADDRESS':\r\n      removeAddress(payload.id);\r\n      return {\r\n        ...state,\r\n        address: state.address.filter((address) => address._id !== payload.id),\r\n      };\r\n    case 'SORT_BY':\r\n      return {\r\n        ...state,\r\n        sortBy: payload,\r\n      };\r\n    case 'FILTER_BY':\r\n      return filterByFn(state, action, key);\r\n    case 'SEARCH':\r\n      return {\r\n        ...state,\r\n        search: payload,\r\n      };\r\n    case 'CLEAR_ALL':\r\n      return {\r\n        ...state,\r\n        FAST_DELIVERY: false,\r\n        INCLUDE_OUT_OF_STOCK: false,\r\n        search: '',\r\n        filterBy: [],\r\n      };\r\n    default:\r\n      return {};\r\n  }\r\n};\r\n\r\nconst filterByFn = (state, action, key) => {\r\n  switch (key) {\r\n    case 'AVAILABILITY':\r\n    case 'DELIVERY':\r\n      return filterByBoolean(state, action.payload);\r\n    case 'CATEGORIES':\r\n      return filterByCategories(state, action.payload);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst filterByBoolean = (state, payload) => {\r\n  switch (payload) {\r\n    case 'INCLUDE_OUT_OF_STOCK':\r\n      return {\r\n        ...state,\r\n        INCLUDE_OUT_OF_STOCK: !state.INCLUDE_OUT_OF_STOCK,\r\n      };\r\n    case 'FAST_DELIVERY':\r\n      return {\r\n        ...state,\r\n        FAST_DELIVERY: !state.FAST_DELIVERY,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst filterByCategories = (state, payload) => {\r\n  if (!state.filterBy.includes(payload)) {\r\n    switch (payload) {\r\n      case 'TABLETS':\r\n      case 'LAPTOPS':\r\n      case 'DESKTOPS':\r\n      case 'ACCESSORIES':\r\n        return {\r\n          ...state,\r\n          filterBy: [...state.filterBy, payload],\r\n        };\r\n      default:\r\n        return {\r\n          ...state,\r\n        };\r\n    }\r\n  } else {\r\n    switch (payload) {\r\n      case 'TABLETS':\r\n      case 'LAPTOPS':\r\n      case 'DESKTOPS':\r\n      case 'ACCESSORIES':\r\n        return {\r\n          ...state,\r\n          filterBy: state.filterBy.filter((item) => payload !== item),\r\n        };\r\n      default:\r\n        return {\r\n          ...state,\r\n        };\r\n    }\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}